/* === GLOBAL ================================================ */
body {
  opacity: 0;
  animation: fadeIn 0.7s ease-out forwards;
  font-family: 'Segoe UI', 'Helvetica Neue', sans-serif;
}

@keyframes fadeIn {
  to { opacity: 1; }
}

/* === CALLOUT: BASE ========================================= */
.callout {
  border-left: 4px solid #ccc;
  border-radius: 00px;
  padding: 0rem 0rem;
  margin: 1.25rem 0;
  background-color: #ffffff;
  box-shadow: 0 2px 4px rgba(0,0,0,0.03);
  transition: box-shadow 0.2s ease, transform 0.2s ease;
}

.callout:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.06);
}

/* === CALLOUT TYPE COLORS =================================== */
:root {
  --note-bg:      #f4f9ff;
  --note-bar:     #205ED5;
  --tip-bg:       #f4fff9;
  --tip-bar:      #95CDF8;
  --warning-bg:   #fffdf5;
  --warning-bar:  #F89708;
  --caution-bg:   #fff6f6;
  --caution-bar:  #F89708;
  --important-bg: #fcf6ff;
  --important-bar:#b45ef4;
  --insight-bg:   #f6fafd;
  --insight-bar:  #3182ce;
}

.callout-note      { border-color: var(--note-bar);     background: var(--note-bg);     }
.callout-tip       { border-color: var(--tip-bar);      background: var(--tip-bg);      }
.callout-warning   { border-color: var(--warning-bar);  background: var(--warning-bg);  }
.callout-caution   { border-color: var(--caution-bar);  background: var(--caution-bg);  }
.callout-important { border-color: var(--important-bar);background: var(--important-bg);}
.callout.custom-insight {
  border-color: var(--insight-bar);
  background: var(--insight-bg);
}

/* === ANIMATIONS & RESPONSIVE ============================== */
@media (prefers-reduced-motion: no-preference) {
  .callout {
    animation: fadePop .4s ease-out both;
  }
  @keyframes fadePop {
    0%   { opacity: 0; transform: scale(.97); }
    100% { opacity: 1; transform: scale(1);   }
  }
}


/* Margin card for "related section" */
.column-margin .related-box{
  background: var(--bs-light, #f8f9fa);
  border-left: 4px solid #F89708;  /* was var(--bs-primary, #F89708) */
  border-radius: 0;                /* was .0rem */
  padding: .6rem .75rem;
  font-size: .9rem;
  box-shadow: 0 1px 3px rgba(0,0,0,.06);
  margin: 0 0 1rem;
}
.column-margin .related-box strong{
  text-transform: uppercase;
  letter-spacing: .06em;
  font-size: .72rem;
  opacity: .75;
  display: block;
  margin-bottom: .25rem;
}
.column-margin .related-box a{
  text-decoration: none;
  border-bottom: 1px dotted currentColor;
}

.column-margin .related-box .commit { margin:.35rem 0; }
.column-margin .related-box .muted  { opacity:.65; font-size:.85rem; }
.column-margin .related-box .commit a {
  text-decoration: none;
  border-bottom: 1px dotted currentColor;
}

.column-margin .related-box.history { border-left-color: #adb5bd; } /* muted grey */
.column-margin .related-box.history strong { color: #adb5bd; } /* muted grey */

/* keep your existing rules ... */

/* Make 'History' use theme gray + wrap long URLs */
.column-margin .related-box { word-break: break-word; }

.column-margin .related-box.history{
  border-left-color: var(--bs-secondary, #adb5bd); /* theme-aware gray */
}
.column-margin .related-box.history strong{
  color: var(--bs-secondary-color, #6c757d);       /* readable gray text */
}

/* Dark mode tweaks (Quarto sets data-bs-theme) */
:root[data-bs-theme="dark"] .column-margin .related-box{
  background: rgba(255,255,255,.05);
}
:root[data-bs-theme="dark"] .column-margin .related-box.history strong{
  color: var(--bs-secondary-color, #cbd3da);
}

/* GitHub icon in history items */
.column-margin .related-box .commit .gh-icon{
  display:inline-flex;
  margin-right:.35rem;
  line-height:0;
}
.column-margin .related-box .commit .gh-icon svg{
  width:1em; height:1em; vertical-align:-.2em; fill:currentColor;
}

/* Only the History card gets grey accent & pale links */
.column-margin .related-box.history { border-left-color: var(--bs-secondary, #adb5bd); }
.column-margin .related-box.history strong { color: var(--bs-secondary-color, #6c757d); }

.column-margin .related-box.history .muted { opacity:.75; }
.column-margin .related-box.history .gh-link{
  color: inherit;               /* not blue */
  opacity: .6;                  /* pale */
  text-decoration: none;
  margin-left: .5rem;
  border-bottom: 1px dotted currentColor;
}
.column-margin .related-box.history .gh-link:hover{
  opacity: .8;
  border-bottom-style: solid;
}

/* (Optional) dark mode background */
:root[data-bs-theme="dark"] .column-margin .related-box{
  background: rgba(255,255,255,.05);
}
/* Full-width History box at page end */
.site-history{
  margin: 2rem 0 1rem;
  padding: .9rem 1rem;
  background: var(--bs-light, #f8f9fa);
  border: 1px solid rgba(0,0,0,.06);
  border-left: 4px solid var(--bs-secondary, #adb5bd);
  border-radius: .25rem;
  box-shadow: 0 1px 3px rgba(0,0,0,.05);
  font-size: .95rem;
  line-height: 1.45;
  word-break: break-word;
}
.site-history .history-title{
  display: flex; align-items: center; gap: .5rem;
  text-transform: uppercase; letter-spacing: .06em;
  font-size: .78rem; opacity: .85; margin-bottom: .4rem;
}
.site-history .gh-mark svg{ display:block; width:14px; height:14px; fill: currentColor; }

.site-history .commit{ margin: .4rem 0; }
.site-history .commit-head{
  display:flex; gap:.5rem; align-items: baseline; flex-wrap: wrap;
}
.site-history .msg{
  max-width: 100%;
  overflow: hidden; text-overflow: ellipsis; white-space: nowrap; /* one-line msg */
}
.site-history .muted{ opacity:.75; font-size:.9rem; }

.site-history a.sha-link{
  color: inherit; opacity:.65; text-decoration:none; border-bottom:1px dotted currentColor;
}
.site-history a.sha-link:hover{ opacity:.85; border-bottom-style: solid; }

/* Dark mode */
:root[data-bs-theme="dark"] .site-history{
  background: rgba(255,255,255,.05);
  border-color: rgba(255,255,255,.08);
  box-shadow: none;
}
